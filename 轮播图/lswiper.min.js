(function(win,doc){function LSwiper(id){this.id=id;this.obj="";this._parent="";this._circle="";this.length=0;this._width=0;this._index=-1;this._cIndex=0;this._init();this._setObj();this._addCircle(this._parent);this._setClock();this._handleClick()}LSwiper.prototype={_init:function(){this.obj=$(this.id);this._parent=this.obj.parent();this.length=this.obj.children().length},_setObj:function(){var _first=$(this.obj.children()[0]).clone(true);var _last=$(this.obj.children()[this.length-1]).clone(true);this._width=this.obj.children()[0].clientWidth;this.obj.prepend(_last);this.obj.append(_first);this.obj.css({width:this._width*(this.length+2)+"px",left:-this._width+"px"});var _child=this.obj.children();var _childLength=_child.length;_child.each(function(){$(this).css("width",1/_childLength*100+"%")});this._parent.css({"overflow":"hidden"});if(this._parent.css("position")=="static"){this._parent.css({"position":"relative"})}},_addCircle:function(obj){var _html="";_html+='<div class="lswiper-circle-div"><ul class="lswiper-circle-ul">';for(var _r=0;_r<this.length;_r++){_html+="<li></li>"}_html+="</ul></div>";obj.append(_html)},_setClock:function(){this._circle=$(".lswiper-circle-ul li");var that=this;var _timer=setInterval(function(){if(that._index==-(that.length+1)){that._index=-1;that.obj.css("left",that._width*that._index)}that._index--;that.obj.stop().animate({"left":that._width*that._index+"px"});that._cancelChose();that._cIndex++;if(that._cIndex==that.length){that._cIndex=0}$(that._circle[that._cIndex]).addClass("lswiper-li-chose")},3000)},_handleClick:function(){var that=this;var _li=$(".lswiper-circle-ul li");_li.each(function(index){$(this).on("click",function(){$(this).addClass("lswiper-li-chose").siblings("li").removeClass("lswiper-li-chose");that.obj.stop().animate({"left":that._width*(-1-index)+"px"});that._cIndex=index;that._index=-1-index})})},_cancelChose:function(){for(var _f=0;_f<this._circle.length;_f++){$(this._circle[_f]).removeClass("lswiper-li-chose")}}};function lSwiper(id){var _swiper=new LSwiper(id);var _lis=$(".lswiper-circle-ul li");$(_lis[0]).addClass("lswiper-li-chose")}if(typeof module!=="undefined"&&module.exports){module.exports=lSwiper}if(typeof define==="function"){define(function(){return lSwiper})}win.lSwiper=lSwiper})(window,document);